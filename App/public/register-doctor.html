

<form id="signupForm" class="col-md-12 mx-auto" method="post" action="/register_doctor" enctype="multipart/form-data" >
	<!-- Error Alert -->
	<div id="emailTakenError" class="alert alert-danger alert-dismissible ">
		<strong>Error!</strong> An account with that email already exists.
		<button type="button" class="close" data-dismiss="alert">&times;</button>
	</div>
	 <h2>Office Information</h2>
	  <div class="row">
		<div class="col-md-6 form-group">
			<label for="contact_first_name">Contact First Name</label>
			<div>
				<input type="text" class="form-control" id="contact_first_name" name="contact_first_name" placeholder="Contact First Name" required>
			</div>
		</div>

		<div class="col-md-6 form-group">
			<label for="contact_last_name">Contact Last Name</label>
			<div>
				<input type="text" class="form-control" id="contact_last_name" name="contact_last_name" placeholder="Contact Last Name" required>
			</div>
		</div>
		

		<div class="col-md-6 form-group">
			<label for="email">Email</label>
			<div>
				<input type="text" class="form-control" id="email" name="email" placeholder="Email" required>
			</div>
		</div>

		<div class="col-md-6 form-group">
			<label for="password">Password</label>
			<input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
		</div>

		<div class="col-md-6 form-group">
			<label for="confirm_password">Confirm Password</label>
			<div>
				<input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Confirm Password" required>
			</div>
		</div>

		<div class="col-md-6 form-group">
			<label for="office_name">Office Name</label>
			<div>
				<input type="text" class="form-control" id="office_name" name="office_name" placeholder="Office Name" required>
			</div>
		</div>
		
		<div class="col-md-6 form-group">
			<label for="contact_last_name">Office Street</label>
			<div>
				<input type="text" class="form-control" id="office_street" name="office_street" placeholder="Office Street" required>
			</div>
		</div>
		
		<div class="col-md-6 form-group">
			<label for="contact_last_name">Office City</label>
			<div>
				<input type="text" class="form-control" id="office_city" name="office_city" placeholder="Office City" required>
			</div>
		</div>
		
		<div class="col-md-6 form-group">
			<label for="contact_last_name">Office Province</label>
			<div>
				<input type="text" class="form-control" id="office_province" name="office_province" placeholder="Office Province" required>
			</div>
		</div>
		
		<div class="col-md-6 form-group">
			<label for="contact_last_name">Office Postal Code</label>
			<div>
				<input type="text" class="form-control" id="office_postal_code" name="office_postal_code" placeholder="Office Postal code" required>
			</div>
		</div>
		
		
		
		<div class="col-md-6 form-group">
			<label for="confirm_password">Verification Document</label>
			<div>
				<input type="file" class="form-control-file" name="verification_document" required>
			</div>
		</div>
		
	</div>
	
	<br><br>
	 <h2>Doctor Information</h2>
	 <div id="doctor-info">
	 <form>
		  <div class="row doctor-single-info">
		
			<div class="col-md-6 form-group">
				<label for="doctor_first_name">Doctor First Name</label>
				<div>
					<input type="text" class="form-control" id="doctor_first_name" name="doctor_first_name" placeholder="Doctor First Name" required>
				</div>
			</div>
			
			<div class="col-md-6 form-group">
				<label for="doctor_last_name">Doctor Last Name</label>
				<div>
					<input type="text" class="form-control" id="doctor_last_name" name="doctor_last_name" placeholder="Doctor Last Name" required>
				</div>
			</div>
			
			<div class="col-md-6 form-group">
				<label for="doctor_license_number">License Number</label>
				<div>
					<input type="text" class="form-control" id="doctor_license_number" name="doctor_license_number" placeholder="License Number" required>
				</div>
			</div>
			<br>
		  </div>
		  </form>
	  </div>
	<div class="col-md-6 form-group">
		<button type="button" onClick="addAdditionalDoctor();" class="btn-wide btn-pill btn-shadow btn-hover-shine btn btn-secondary">Add Additional Doctor Info</button>
	</div>
	
	<table cellpadding="0" cellspacing="0" border="0" id="doctor-table" class="datatable table table-striped table-bordered">
		<thead>
			<tr>
				<th>First Name</th>
				<th>Last Name</th>
				<th>License Number</th>
				<th>Delete</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
	
	
	<br><br>
	<div class="col-md-6 form-group">
		<button type="submit" class="btn-wide btn-pill btn-shadow btn-hover-shine btn btn-success btn-lg">Create Account</button>
	</div>
	
	<div class="mt-4 d-flex align-items-center"><h5 class="mb-0">Already have an account? <a href="/login" class="text-primary">Sign in</a></h5>
		<div class="ml-auto"></div>
</form>
<script>
	$(function(){
		$('#emailTakenError').hide();
		$("#signupForm").submit(function(e){
			e.preventDefault();
			 $.ajax( {
			  url: '/register_doctor',
			  type: 'POST',
			  data: new FormData( this ),
			  processData: false,
			  contentType: false,
			  success: function(data){
				if(data['error_code'] == 8) {
					$('#emailTakenError').show();
				} else {
					window.location.replace("register_complete_doctor");
				}
			  }
			}); 
		});
		
		
	});
	function addAdditionalDoctor() {
	debugger;
		var html = $('#doctor-table tbody').append('<tr class="gradeX"> <td> ' + $('#doctor_first_name').val() + ' </td><td> ' + $('#doctor_last_name').val() + '</td><td> ' + $('#doctor_license_number').val() + '</td><td>	<button type="button" onClick="$(this).closest(\'tr\').remove();" class="btn-wide btn-pill btn-shadow btn-hover-shine btn btn-danger">Delete</button></td></tr>');
		$('#doctor_first_name').val(''); 
		$('#doctor_last_name').val('');
		$('#doctor_license_number').val('');
	}
</script>
